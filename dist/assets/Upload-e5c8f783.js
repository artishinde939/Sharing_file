import{a as K,r as f,b as Xe,V as et,u as xt,j as i,N as E,Q as le,g as At,R as wt}from"./index-53f28f78.js";const jt=async(e,t,r)=>{try{const n={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r};return await K.post(`https://video-sharing-backend-t5bu.onrender.com/video/${e}`,t,n)}catch(n){return n.message}},Dt=async e=>{try{return(await K.get(`https://video-sharing-backend-t5bu.onrender.com/video/search?q=${e}`)).data.result}catch(t){return t.message}},Er=async e=>{try{return(await K.get(`https://video-sharing-backend-t5bu.onrender.com/searchlist/video/${e}`)).data.result}catch(t){return t.message}},Fr=async(e,t,r)=>{try{return(await K.put(`https://video-sharing-backend-t5bu.onrender.com/video/${e}/${t}`,r)).data.result}catch(n){return n.message}},Sr=async(e,t)=>{try{return(await K.delete(`https://video-sharing-backend-t5bu.onrender.com/video/${e}/${t}`)).data.result}catch(r){return r.message}},Cr=async()=>{try{return(await K.get("https://video-sharing-backend-t5bu.onrender.com/video")).data}catch(e){return e.message}},Nr=()=>{const[e,t]=f.useState(!1),[r,n]=Xe(),a=w=>le.error(w),o=w=>le.success(w),{searchVideo:l,handleShowUpload:u}=f.useContext(et),[g,c]=f.useState(""),v=xt(),x=()=>{n({...r,user:null,token:""}),localStorage.removeItem("auth"),o("Logout Successfully")},C=async w=>{try{const k=await Dt(w);if(k.length===0)return a("Search Results Not Found");l(k),v("/searchlist")}catch(k){console.log(k.message)}};return i.jsxs("nav",{className:" bg-black",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsx("div",{className:"flex",children:i.jsx("div",{className:"flex-shrink-0 flex items-center",children:i.jsx(E,{to:"/",className:"text-purple-300 text-3xl font-bold",children:"Tuner"})})}),i.jsx("div",{className:"flex",children:i.jsx("div",{className:"mt-2 ml-2 md:ml-6 md:flex md:items-center text-white",children:i.jsx("input",{type:"text",placeholder:"Search",className:"px-4 py-2 border-white rounded-full text-white w-60 ml-4 md:w-96 bg-gray-700 md:mt-0 mt-2 h-9",onChange:w=>{c(w.target.value)},onKeyDown:w=>{w.key==="Enter"&&C(g)},value:g})})}),i.jsx("div",{className:"mx-2 flex items-center sm:hidden",children:i.jsx("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:bg-gray-700 focus:text-white transition duration-150 ease-in-out","aria-label":"Main menu","aria-expanded":"false",onClick:()=>{t(!e)},children:i.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),r!=null&&r.user?i.jsx("div",{className:"invisible sm:visible",children:i.jsxs("div",{className:"flex gap-3 mt-3",children:[i.jsx(E,{to:"/myvideos",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"My Video"}),i.jsx("p",{className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300",children:"|"}),i.jsx(E,{to:"#",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",onClick:()=>u(!0),children:"Upload"}),i.jsx("p",{className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300",children:"|"}),i.jsx(E,{to:"/",onClick:x,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"Sign out"})]})}):i.jsx("div",{className:"invisible md:visible",children:i.jsxs("div",{className:"flex gap-3 mt-3",children:[i.jsx(E,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"Login"}),i.jsx("p",{className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300",children:"|"}),i.jsx(E,{to:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"Register"})]})})]})}),e&&!(r!=null&&r.user)&&i.jsx("div",{className:"md:hidden",id:"mobile-menu",children:i.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[i.jsx(E,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:text-white",children:"Login"}),i.jsx(E,{to:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-white hover:text-white ",children:"Register"})]})}),e&&(r==null?void 0:r.user)&&i.jsx("div",{className:"sm:hidden",id:"mobile-menu",children:i.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[i.jsx(E,{to:"/myvideos",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"My Video"}),i.jsx(E,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",onClick:()=>u(!0),children:"Upload"}),i.jsx(E,{to:"/",onClick:x,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white",children:"Sign out"})]})})]})},Tr="/assets/playIcon-99d9b0f2.png",Pr="data:image/jpeg;base64,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";var tt={exports:{}},Ot="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kt=Ot,Et=kt;function rt(){}function nt(){}nt.resetWarningCache=rt;var Ft=function(){function e(n,a,o,l,u,g){if(g!==Et){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nt,resetWarningCache:rt};return r.PropTypes=r,r};tt.exports=Ft();var St=tt.exports;const y=At(St);function W(e,t,r,n){function a(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(v){try{c(n.next(v))}catch(x){l(x)}}function g(v){try{c(n.throw(v))}catch(x){l(x)}}function c(v){v.done?o(v.value):a(v.value).then(u,g)}c((n=n.apply(e,t||[])).next())})}function H(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(c){return function(v){return g([c,v])}}function g(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(o=c[0]&2?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(v){c=[6,v],a=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ue(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,o=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o}function Ve(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Ct=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function $(e,t){var r=Nt(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Nt(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),a=Ct.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var Tt=[".DS_Store","Thumbs.db"];function Pt(e){return W(this,void 0,void 0,function(){return H(this,function(t){return ue(e)&&Rt(e.dataTransfer)?[2,Mt(e.dataTransfer,e.type)]:It(e)?[2,_t(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,Lt(e)]:[2,[]]})})}function Rt(e){return ue(e)}function It(e){return ue(e)&&ue(e.target)}function ue(e){return typeof e=="object"&&e!==null}function _t(e){return De(e.target.files).map(function(t){return $(t)})}function Lt(e){return W(this,void 0,void 0,function(){var t;return H(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return $(n)})]}})})}function Mt(e,t){return W(this,void 0,void 0,function(){var r,n;return H(this,function(a){switch(a.label){case 0:return e.items?(r=De(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Bt))]):[3,2];case 1:return n=a.sent(),[2,Ke(ot(n))];case 2:return[2,Ke(De(e.files).map(function(o){return $(o)}))]}})})}function Ke(e){return e.filter(function(t){return Tt.indexOf(t.name)===-1})}function De(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Bt(e){if(typeof e.webkitGetAsEntry!="function")return We(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?at(t):We(e)}function ot(e){return e.reduce(function(t,r){return Ve(Ve([],Ue(t),!1),Ue(Array.isArray(r)?ot(r):[r]),!1)},[])}function We(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=$(t);return Promise.resolve(r)}function zt(e){return W(this,void 0,void 0,function(){return H(this,function(t){return[2,e.isDirectory?at(e):Ut(e)]})})}function at(e){var t=e.createReader();return new Promise(function(r,n){var a=[];function o(){var l=this;t.readEntries(function(u){return W(l,void 0,void 0,function(){var g,c,v;return H(this,function(x){switch(x.label){case 0:if(u.length)return[3,5];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return g=x.sent(),r(g),[3,4];case 3:return c=x.sent(),n(c),[3,4];case 4:return[3,6];case 5:v=Promise.all(u.map(zt)),a.push(v),o(),x.label=6;case 6:return[2]}})})},function(u){n(u)})}o()})}function Ut(e){return W(this,void 0,void 0,function(){return H(this,function(t){return[2,new Promise(function(r,n){e.file(function(a){var o=$(a,e.fullPath);r(o)},function(a){n(a)})})]})})}var Vt=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return r.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?o===u.replace(/\/.*$/,""):a===u})}return!0};function He(e){return Ht(e)||Wt(e)||st(e)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ht(e){if(Array.isArray(e))return Oe(e)}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qe(Object(r),!0).forEach(function(n){it(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){return Jt(e)||qt(e,t)||st(e,t)||Qt()}function Qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e,t){if(e){if(typeof e=="string")return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,t)}}function Oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,l,u;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(g){o=!0,u=g}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function Jt(e){if(Array.isArray(e))return e}var Zt="file-invalid-type",$t="file-too-large",Yt="file-too-small",Gt="too-many-files",Xt=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Zt,message:"File type must be ".concat(r)}},Je=function(t){return{code:$t,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ze=function(t){return{code:Yt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},er={code:Gt,message:"Too many files"};function ct(e,t){var r=e.type==="application/x-moz-file"||Vt(e,t);return[r,r?null:Xt(t)]}function lt(e,t,r){if(_(e.size))if(_(t)&&_(r)){if(e.size>r)return[!1,Je(r)];if(e.size<t)return[!1,Ze(t)]}else{if(_(t)&&e.size<t)return[!1,Ze(t)];if(_(r)&&e.size>r)return[!1,Je(r)]}return[!0,null]}function _(e){return e!=null}function tr(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,o=e.multiple,l=e.maxFiles,u=e.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(g){var c=ct(g,r),v=Z(c,1),x=v[0],C=lt(g,n,a),w=Z(C,1),k=w[0],T=u?u(g):null;return x&&k&&!T})}function de(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ce(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function $e(e){e.preventDefault()}function rr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function nr(e){return e.indexOf("Edge/")!==-1}function or(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return rr(e)||nr(e)}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(u){return!de(n)&&u&&u.apply(void 0,[n].concat(o)),de(n)})}}function ar(){return"showOpenFilePicker"in window}function ir(e){if(_(e)){var t=Object.entries(e).filter(function(r){var n=Z(r,2),a=n[0],o=n[1],l=!0;return ut(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(dt))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(r,n){var a=Z(n,2),o=a[0],l=a[1];return qe(qe({},r),{},it({},o,l))},{});return[{description:"Files",accept:t}]}return e}function sr(e){if(_(e))return Object.entries(e).reduce(function(t,r){var n=Z(r,2),a=n[0],o=n[1];return[].concat(He(t),[a],He(o))},[]).filter(function(t){return ut(t)||dt(t)}).join(",")}function cr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function lr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ut(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function dt(e){return/^.*\.[\w]+$/.test(e)}var ur=["children"],dr=["open"],pr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],fr=["refKey","onChange","onClick"];function mr(e){return yr(e)||hr(e)||pt(e)||gr()}function gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yr(e){if(Array.isArray(e))return ke(e)}function je(e,t){return xr(e)||br(e,t)||pt(e,t)||vr()}function vr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(e,t){if(e){if(typeof e=="string")return ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ke(e,t)}}function ke(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,l,u;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(g){o=!0,u=g}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function xr(e){if(Array.isArray(e))return e}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ye(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){if(e==null)return{};var r=Ar(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ar(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Se=f.forwardRef(function(e,t){var r=e.children,n=pe(e,ur),a=mt(n),o=a.open,l=pe(a,dr);return f.useImperativeHandle(t,function(){return{open:o}},[o]),wt.createElement(f.Fragment,null,r(b(b({},l),{},{open:o})))});Se.displayName="Dropzone";var ft={disabled:!1,getFilesFromEvent:Pt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Se.defaultProps=ft;Se.propTypes={children:y.func,accept:y.objectOf(y.arrayOf(y.string)),multiple:y.bool,preventDropOnDocument:y.bool,noClick:y.bool,noKeyboard:y.bool,noDrag:y.bool,noDragEventsBubbling:y.bool,minSize:y.number,maxSize:y.number,maxFiles:y.number,disabled:y.bool,getFilesFromEvent:y.func,onFileDialogCancel:y.func,onFileDialogOpen:y.func,useFsAccessApi:y.bool,autoFocus:y.bool,onDragEnter:y.func,onDragLeave:y.func,onDragOver:y.func,onDrop:y.func,onDropAccepted:y.func,onDropRejected:y.func,onError:y.func,validator:y.func};var Fe={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function mt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=b(b({},ft),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,u=t.multiple,g=t.maxFiles,c=t.onDragEnter,v=t.onDragLeave,x=t.onDragOver,C=t.onDrop,w=t.onDropAccepted,k=t.onDropRejected,T=t.onFileDialogCancel,L=t.onFileDialogOpen,Q=t.useFsAccessApi,Y=t.autoFocus,M=t.preventDropOnDocument,G=t.noClick,q=t.noKeyboard,fe=t.noDrag,N=t.noDragEventsBubbling,F=t.onError,P=t.validator,R=f.useMemo(function(){return sr(r)},[r]),X=f.useMemo(function(){return ir(r)},[r]),ee=f.useMemo(function(){return typeof L=="function"?L:Ge},[L]),p=f.useMemo(function(){return typeof T=="function"?T:Ge},[T]),m=f.useRef(null),h=f.useRef(null),te=f.useReducer(wr,Fe),Ce=je(te,2),me=Ce[0],D=Ce[1],gt=me.isFocused,Ne=me.isFileDialogActive,re=f.useRef(typeof window<"u"&&window.isSecureContext&&Q&&ar()),Te=function(){!re.current&&Ne&&setTimeout(function(){if(h.current){var d=h.current.files;d.length||(D({type:"closeDialog"}),p())}},300)};f.useEffect(function(){return window.addEventListener("focus",Te,!1),function(){window.removeEventListener("focus",Te,!1)}},[h,Ne,p,re]);var B=f.useRef([]),Pe=function(d){m.current&&m.current.contains(d.target)||(d.preventDefault(),B.current=[])};f.useEffect(function(){return M&&(document.addEventListener("dragover",$e,!1),document.addEventListener("drop",Pe,!1)),function(){M&&(document.removeEventListener("dragover",$e),document.removeEventListener("drop",Pe))}},[m,M]),f.useEffect(function(){return!n&&Y&&m.current&&m.current.focus(),function(){}},[m,Y,n]);var I=f.useCallback(function(s){F?F(s):console.error(s)},[F]),Re=f.useCallback(function(s){s.preventDefault(),s.persist(),ie(s),B.current=[].concat(mr(B.current),[s.target]),ce(s)&&Promise.resolve(a(s)).then(function(d){if(!(de(s)&&!N)){var A=d.length,j=A>0&&tr({files:d,accept:R,minSize:l,maxSize:o,multiple:u,maxFiles:g,validator:P}),O=A>0&&!j;D({isDragAccept:j,isDragReject:O,isDragActive:!0,type:"setDraggedFiles"}),c&&c(s)}}).catch(function(d){return I(d)})},[a,c,I,N,R,l,o,u,g,P]),Ie=f.useCallback(function(s){s.preventDefault(),s.persist(),ie(s);var d=ce(s);if(d&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return d&&x&&x(s),!1},[x,N]),_e=f.useCallback(function(s){s.preventDefault(),s.persist(),ie(s);var d=B.current.filter(function(j){return m.current&&m.current.contains(j)}),A=d.indexOf(s.target);A!==-1&&d.splice(A,1),B.current=d,!(d.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ce(s)&&v&&v(s))},[m,v,N]),ne=f.useCallback(function(s,d){var A=[],j=[];s.forEach(function(O){var J=ct(O,R),V=je(J,2),he=V[0],ye=V[1],ve=lt(O,l,o),se=je(ve,2),be=se[0],xe=se[1],Ae=P?P(O):null;if(he&&be&&!Ae)A.push(O);else{var we=[ye,xe];Ae&&(we=we.concat(Ae)),j.push({file:O,errors:we.filter(function(bt){return bt})})}}),(!u&&A.length>1||u&&g>=1&&A.length>g)&&(A.forEach(function(O){j.push({file:O,errors:[er]})}),A.splice(0)),D({acceptedFiles:A,fileRejections:j,type:"setFiles"}),C&&C(A,j,d),j.length>0&&k&&k(j,d),A.length>0&&w&&w(A,d)},[D,u,R,l,o,g,C,w,k,P]),oe=f.useCallback(function(s){s.preventDefault(),s.persist(),ie(s),B.current=[],ce(s)&&Promise.resolve(a(s)).then(function(d){de(s)&&!N||ne(d,s)}).catch(function(d){return I(d)}),D({type:"reset"})},[a,ne,I,N]),z=f.useCallback(function(){if(re.current){D({type:"openDialog"}),ee();var s={multiple:u,types:X};window.showOpenFilePicker(s).then(function(d){return a(d)}).then(function(d){ne(d,null),D({type:"closeDialog"})}).catch(function(d){cr(d)?(p(d),D({type:"closeDialog"})):lr(d)?(re.current=!1,h.current?(h.current.value=null,h.current.click()):I(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):I(d)});return}h.current&&(D({type:"openDialog"}),ee(),h.current.value=null,h.current.click())},[D,ee,p,Q,ne,I,X,u]),Le=f.useCallback(function(s){!m.current||!m.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),z())},[m,z]),Me=f.useCallback(function(){D({type:"focus"})},[]),Be=f.useCallback(function(){D({type:"blur"})},[]),ze=f.useCallback(function(){G||(or()?setTimeout(z,0):z())},[G,z]),U=function(d){return n?null:d},ge=function(d){return q?null:U(d)},ae=function(d){return fe?null:U(d)},ie=function(d){N&&d.stopPropagation()},ht=f.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=s.refKey,A=d===void 0?"ref":d,j=s.role,O=s.onKeyDown,J=s.onFocus,V=s.onBlur,he=s.onClick,ye=s.onDragEnter,ve=s.onDragOver,se=s.onDragLeave,be=s.onDrop,xe=pe(s,pr);return b(b(Ee({onKeyDown:ge(S(O,Le)),onFocus:ge(S(J,Me)),onBlur:ge(S(V,Be)),onClick:U(S(he,ze)),onDragEnter:ae(S(ye,Re)),onDragOver:ae(S(ve,Ie)),onDragLeave:ae(S(se,_e)),onDrop:ae(S(be,oe)),role:typeof j=="string"&&j!==""?j:"presentation"},A,m),!n&&!q?{tabIndex:0}:{}),xe)}},[m,Le,Me,Be,ze,Re,Ie,_e,oe,q,fe,n]),yt=f.useCallback(function(s){s.stopPropagation()},[]),vt=f.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=s.refKey,A=d===void 0?"ref":d,j=s.onChange,O=s.onClick,J=pe(s,fr),V=Ee({accept:R,multiple:u,type:"file",style:{display:"none"},onChange:U(S(j,oe)),onClick:U(S(O,yt)),tabIndex:-1},A,h);return b(b({},V),J)}},[h,r,u,oe,n]);return b(b({},me),{},{isFocused:gt&&!n,getRootProps:ht,getInputProps:vt,rootRef:m,inputRef:h,open:U(z)})}function wr(e,t){switch(t.type){case"focus":return b(b({},e),{},{isFocused:!0});case"blur":return b(b({},e),{},{isFocused:!1});case"openDialog":return b(b({},Fe),{},{isFileDialogActive:!0});case"closeDialog":return b(b({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return b(b({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return b(b({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return b({},Fe);default:return e}}function Ge(){}const jr=[{title:"Category",list:["miscellaneous","teaser","trailer","reaction","comedy","interview"]},{title:"Visibility",list:["public","private"]},{title:"Other"},{title:"Others"}],Dr="/assets/close-2f47afc4.svg",Or=({value:e})=>i.jsxs("div",{children:[i.jsx("progress",{className:" rounded-md  progress progress-success",value:e,max:"100",children:`${e}%`}),i.jsx("span",{className:"ml-2 progress-value text-white p-1 bg-black text-sm rounded-full",children:`${e}%`})]}),Rr=()=>{const[e,t]=f.useState({}),[r,n]=f.useState(null),[a,o]=f.useState(!1),[l,u]=f.useState(0),[g,c]=f.useState({name:"",video:null,description:"",category:"",visibility:"",duration:10,views:200}),[v,x]=f.useState({Category:"",Visibility:""}),{showUpload:C,handleShowUpload:w}=f.useContext(et),k=p=>le.success(p),T=p=>le.error(p),L=p=>{c(m=>({...m,[p.target.name]:p.target.value}))},Q=p=>{t(m=>({...m,[p]:!m[p]}))},Y=(p,m)=>{x(h=>({...h,[p]:m})),Q(p)},M=()=>{c({name:"",video:null,description:"",category:"",visibility:"",duration:10,views:200}),n(null)},G=p=>{const m=Math.round(p.loaded/p.total*100);u(m)},[q,fe]=Xe(),N=async p=>{p.preventDefault(),o(!0);const m=q.user._id,h=new FormData;h.append("title",g.name),h.append("video",g.video),h.append("category",g.category),h.append("description",g.description),h.append("duration",g.duration),h.append("views",g.views),h.append("visibility",g.visibility);try{const te=await jt(m,h,G);k("Video Saved Successfully"),o(!1),M(),x({Category:"",Visibility:""}),u(0)}catch(te){T(te.message),o(!1),u(0)}},F=new FileReader,P=f.useCallback(p=>{c(m=>({...m,video:p[0]||null})),p?(F.onload=()=>{n(F.result)},F.readAsDataURL(p[0])):n(null)},[]),{getRootProps:R,getInputProps:X,isDragActive:ee}=mt({onDrop:P});return i.jsx(i.Fragment,{children:C&&i.jsx("form",{action:"#",method:"POST",onSubmit:N,encType:"multipart/form-data",className:"absolute z-50 top-0 inset-0",children:i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"bg-[#000000] flex-1 rounded-[10px] max-w-2xl px-6 py-2 box-border",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("h2",{className:"mb-2 text-md font-semibold text-white",children:"Upload New Video"}),i.jsx("div",{children:i.jsx("img",{src:Dr,alt:"close icon",className:"hover:bg-red-600 rounded-lg py-2 px-4",onClick:()=>{w(!1),M()}})})]}),i.jsxs("div",{...R(),className:"min-h-[150px] flex flex-col justify-center items-center w-full mx-auto text-center bg-[#4B4B5F] border-2 border-[#707070] cursor-pointer rounded-[10px]",children:[r?i.jsx("div",{className:"relative w-full aspect-w-16 aspect-h-9",children:i.jsx("video",{src:r,alt:"VideoPreview",className:" w-full h-full object-contain rounded"})}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("h2",{className:"text-md font-semibold tracking-wide text-[#FFFFFF] t-4",children:"Drag and drop to upload"}),i.jsx("p",{className:"mt-2 tracking-wide text-gray-300",children:"or browse to choose a file"})]}),i.jsx("input",{...X(),type:"file",accept:"video/*",className:"hidden",name:"video",onChange:p=>{const m=p.target.files&&p.target.files[0];!m&&g.video||(c(h=>({...h,video:m||null})),file?(F.onload=()=>{n(F.result)},F.readAsDataURL(file)):n(null))}})]}),i.jsxs("div",{className:"flex justify-start text-center my-2",children:[i.jsx("h2",{className:"text-lg font-bold text-white",children:"Name"}),i.jsx("input",{name:"name",type:"text",className:"bg-black text-white ml-3 w-4/5 focus:outline-none",value:g.name,onChange:L})]}),i.jsx("hr",{className:" mx-1 border-gray-700"}),i.jsx("textarea",{type:"text",name:"description",value:g.description,onChange:L,className:"focus:outline-none bg-black min-w-full text-white h-16 placeholder:text-sm placeholder:text-gray-500",placeholder:"Description"}),i.jsx("hr",{className:" mx-1 border-gray-700"}),i.jsx("div",{className:" sm:flex justify-around py-3",children:jr.map(p=>i.jsxs("div",{children:[i.jsx("p",{className:" text-xs text-gray-500 pl-6",children:p.title}),i.jsxs("button",{id:"dropdownDefaultButton","data-dropdown-toggle":"dropdown",className:"text-white focus:outline-none font-medium rounded-lg text-sm px-4 pb-2.5 pt-1 text-center inline-flex items-center",type:"button",onClick:()=>Q(p.title),children:[v[p.title]||p.title,i.jsx("svg",{className:"w-4 h-4 ml-2","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e[p.title]&&p.list&&i.jsx("div",{id:"dropdown",className:"z-50 absolute bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700",children:i.jsx("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownDefaultButton",children:p.list.map(m=>i.jsx("li",{children:i.jsx("p",{className:"block px-4 py-1 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:()=>{Y(p.title,m),c(h=>p.title==="Category"?{...h,category:m}:{...h,visibility:m})},children:m})},m))})})]},p.title))}),i.jsx("hr",{className:" mx-1 border-gray-700"}),i.jsx("div",{className:"flex justify-center mt-3",children:a?i.jsx("div",{className:"flex hover:bg-violet-500 font-bold py-3 px-20 bg-[#7e73a3] rounded-[28px]",children:i.jsx(Or,{value:l})}):i.jsx("button",{type:"submit",className:"text-white hover:bg-violet-500 font-bold py-3 px-20 bg-[#7e73a3] rounded-[28px]",children:"Save"})})]})})})})};export{Nr as N,Rr as U,Er as a,Fr as b,Sr as d,Cr as g,jr as o,Tr as p,Pr as u};
